// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id      String    @id @unique
  session Session[]
  Key     Key[]

  email String @unique
  firstName  String
  lastName   String
  manager Boolean
  date_of_birth DateTime
  phone_number Int

  @@map("user")
}

model Session {
  id             String @id @unique
  user_id        String
  active_expires BigInt
  idle_expires   BigInt
  user           User   @relation(references: [id], fields: [user_id], onDelete: Cascade)

  @@index([user_id])
  @@map("session")
}

model Key {
  id              String  @id @unique
  hashed_password String?
  user_id         String
  primary         Boolean
  expires         BigInt?
  user            User    @relation(references: [id], fields: [user_id], onDelete: Cascade)

  @@index([user_id])
  @@map("key")
}

model Address {
  id      String    @id @unique
  street_address String
  city_name String
  state_name String
  zip_code Int
}

model Relational_Customer {
  relational_manager_id      String    @id @unique
  id      String
}

model Transaction_Payment {
  transaction_id      String    @id @unique
  recipient_account_id String
  sender_account_id String
  amount Int
  time_stamp DateTime
}

model Account {
  account_id      String    @id @unique
  account_type String
  user_id String
  account_status String
  account_activation_date DateTime
  total_balance Int
}

model Manager {
  manager_id      String    @id @unique
  relational_manager_name String
  branch_bank String
  pin_code Int
  email_id String
  phone_number Int
}

model Card {
  card_id      String    @id @unique
  card_type String
  user_id String
  account_num String
}

model Notification {
  message_id  String    @id @unique
  recipient_account_id String
  message_body  String
  account_status  String
  account_activation_date DateTime
  total_balance Int 
}